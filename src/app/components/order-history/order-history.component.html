<div class="w-full space-y-6">
  <!-- Stats -->
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
      <p class="text-gray-600 text-sm font-medium">Total de Pedidos</p>
      <p class="text-2xl sm:text-3xl font-bold text-gray-900 mt-2">{{ getTotalOrders() }}</p>
    </div>
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
      <p class="text-gray-600 text-sm font-medium">Receita Total</p>
      <p class="text-2xl sm:text-3xl font-bold text-green-600 mt-2">R$ {{ getTotalRevenue().toFixed(2) }}</p>
    </div>
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
      <p class="text-gray-600 text-sm font-medium">Ticket Médio</p>
      <p class="text-2xl sm:text-3xl font-bold text-blue-600 mt-2">R$ {{ getAverageOrderValue().toFixed(2) }}</p>
    </div>
  </div>

  <!-- Filters -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 space-y-4">
    <h3 class="text-lg font-bold text-gray-900">Filtros</h3>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <!-- Search -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Buscar</label>
        <input
          type="text"
          [(ngModel)]="searchTerm"
          (input)="onSearchChange()"
          placeholder="Cliente, mesa ou ID..."
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
        />
      </div>

      <!-- Status Filter -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
        <select
          [(ngModel)]="filterStatus"
          (change)="onFilterChange()"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
        >
          <option value="all">Todos</option>
          <option value="open">Aberta</option>
          <option value="sent">Enviada</option>
          <option value="completed">Pronta</option>
          <option value="closed">Fechada</option>
        </select>
      </div>

      <!-- Sort -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Ordenar por</label>
        <select
          [(ngModel)]="sortBy"
          (change)="onSortChange()"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
        >
          <option value="date-desc">Data (Recente)</option>
          <option value="date-asc">Data (Antigo)</option>
          <option value="price-desc">Preço (Maior)</option>
          <option value="price-asc">Preço (Menor)</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Orders Table -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead class="bg-gray-50 border-b border-gray-200">
          <tr>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">ID</th>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Cliente/Mesa</th>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Itens</th>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Total</th>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Status</th>
            <th class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Data</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <tr *ngFor="let order of filteredOrders" class="hover:bg-gray-50 transition-colors">
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm text-gray-900 font-mono">{{ order.id.substring(0, 8) }}</td>
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm text-gray-900">
              <div class="font-medium">{{ order.customer_name || order.table_number }}</div>
            </td>
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm text-gray-600">{{ order.items.length }}</td>
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm font-bold text-gray-900">R$ {{ order.total_price.toFixed(2) }}</td>
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm">
              <span [class]="'px-2 sm:px-3 py-1 rounded-full text-xs font-medium ' + getStatusColor(order.status)">
                {{ getStatusLabel(order.status) }}
              </span>
            </td>
            <td class="px-4 sm:px-6 py-4 text-xs sm:text-sm text-gray-600">{{ order.created_at | date: 'dd/MM/yyyy HH:mm' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredOrders.length === 0" class="text-center py-12">
      <p class="text-gray-600 text-lg">Nenhum pedido encontrado</p>
    </div>
  </div>
</div>

